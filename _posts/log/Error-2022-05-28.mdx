---
date: '2022-05-28'
title: 'Error : 게시글을 Context로 만들어야 할까?'
tags: ['Error']
state: 'not-solve'
---

꿀벌 커뮤니티를 만들다가 고민되는 부분이 생겼다. 
게시글 데이터(article)를 context에 저장해야 하나 고민이 됐다.
왠지 모든 데이터를 프런트에 저장시켜놓고 있는 느낌이 들었다.
디비에 있는 정보를 프런트에 쌓고 있는 느낌도 들고, context를 캐시처럼 사용하고 있는 느낌도 들었다.

일단 스탑. 고민해보자!

전체 게시글 데이터를 저장하는 게 맞는지 고민이다.
게시판의 경우에는 다른 페이지에서도 사용되기 때문에 context에 저장하는 게 다시 서버에 요청하지
않아도 돼서 이점이었지만, 게시글의 경우에는 게시판에서만 보기 때문에 굳이 저장해야 하나 생각 중...

물론 프런트에 저장해 놓으면 다시 서버에 요청하지 않아도 된다는 장점은 있지만 그사이에 새로운 글이 생성되었다면
백에 요청은 필수적인데..어차피 요청을 보낼 거라면 굳이 저장하지 않아도 되지 않을까.

게시판 별로 모든 게시글을 프런트에 저장하는 게 과연 성능적으로 괜찮은 것일까. 고민된다.

- solved (updated: 2022.6.4)

  게시판의 경우엔 버전 릴리즈에 따라 변경사항이 생길 예정이기 때문에
  변화의 주기가 크지 않다. 하지만 게시글의 경우엔 사용자가 수정하는 주기가 짧기 때문에
  Context, 즉 프런트에 저장하지 않고 사용자가 요청할 때마다 
  매번 요정하는 게 낫겠다는 결론을 지었다.
  
- 다시 고민...

  hook을 사용해서 요청들을 관리했다. 그랬더니 return이 문제... 
  내가 생각할 수 있는 방법으로는 context가 유일한데...
  hook을 통해서 정보가 가져와진다음에 return된 값을 변수에 넣을 수 있는
  동기적인 처리를 하려면 어떻게 해야할까. 
  일단, 이전에 전체를 저장하는 것과는 다르게
  응답으로 받으려는 게시글 데이터를 context에 저장해서 전달하는 식으로 상태관리를 했다.